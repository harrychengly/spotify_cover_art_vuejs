(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"1fb1":function(t,e,n){},"3c61":function(t,e,n){},5465:function(t,e,n){"use strict";n("9728")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Header"),n("v-main",[n("v-snackbar",{attrs:{value:this.error,color:"error",bottom:"",left:""}},[t._v(" "+t._s(t.error)+" ")]),n("router-view")],1)],1)},o=[],i=n("5530"),s=(n("b3a4"),n("2f62")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{app:"",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("h1",[t._v("covrr")])])])},l=[],u={name:"Header"},d=u,p=n("2877"),v=n("6544"),g=n.n(v),h=n("40dc"),f=Object(p["a"])(d,c,l,!1,null,"033b86ce",null),m=f.exports;g()(f,{VAppBar:h["a"]});var b={name:"App",components:{Header:m},computed:Object(i["a"])({},Object(s["c"])("home",["error"]))},k=b,y=(n("034f"),n("7496")),S=n("f6c4"),C=n("2db4"),x=Object(p["a"])(k,r,o,!1,null,null,null),w=x.exports;g()(x,{VApp:y["a"],VMain:S["a"],VSnackbar:C["a"]});var L=n("8c4f"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"body-wrapper",attrs:{fluid:""}},[n("transition",{attrs:{name:"drop"}},[t.show?n("div",{staticClass:"form-wrapper"},[t.userIsLoggedIn?n("div",[n("VueTyper",{attrs:{"pre-type-delay":600,repeat:0,text:"create spotify playlist art â¬œ"}}),n("LinkForm",{attrs:{playlistLink:t.playlistLink},on:{"link-change":t.handleLinkChange,"generate-art":t.generateArt}}),n("HelperModal")],1):n("div",[n("VueTyper",{attrs:{"pre-type-delay":600,"erase-style":"clear",repeat:0,text:["hello ðŸ‘‹","create spotify playlist art â¬œ","login to continue ðŸ˜„"]}}),n("v-btn",{attrs:{dark:"",link:!0,href:"http://localhost:8888/login",color:"#191414"}},[t._v(" Login with Spotify ")])],1)]):t._e()])],1)},O=[],I=(n("ac1f"),n("1276"),n("96cf"),n("1da1")),A=n("e956"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{on:{submit:t.generateArt}},[n("v-text-field",{attrs:{value:t.playlistLink,placeholder:t.$LOCAL("LINK_FORM_PLACEHOLDER"),rules:t.rules,outlined:"",dark:"",autocomplete:"off","full-width":!0,"success-messages":t.successMessage},on:{input:t.handleInputChange}}),n("v-btn",{attrs:{dark:"",color:"#191414",disabled:!t.valid},on:{click:t.generateArt}},[t._v(" Generate ")])],1)},T=[],j=(n("466d"),{name:"LinkForm",data:function(){var t=this;return{valid:!1,rules:[function(e){return t.valid=""!==e,t.valid||"Playlist link is required"},function(e){return t.valid=76===e.length&&null!==e.match(t.$LOCAL("LINK_REGEX")),t.valid||t.$LOCAL("LINK_INVALID")}]}},props:{playlistLink:{type:String,default:""}},computed:{successMessage:function(){return this.valid?"Playlist link is valid":""}},methods:{handleInputChange:function(t){this.$emit("link-change",t)},logOut:function(){this.$router.push({name:"Home"})},generateArt:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("generate-art");case 1:case"end":return e.stop()}}),e)})))()}}}),V=j,R=(n("9a44"),n("8336")),E=n("4bd4"),M=n("8654"),F=Object(p["a"])(V,P,T,!1,null,"c086d282",null),z=F.exports;g()(F,{VBtn:R["a"],VForm:E["a"],VTextField:M["a"]});var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"450"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("p",t._g(t._b({staticClass:"helper-text"},"p",r,!1),n),[t._v("How to get the link?")])]}}]),model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[a("v-card",[a("v-card-title",[a("h3",[t._v("How to obtain playlist link?")])]),a("v-divider"),a("v-card-text",{staticClass:"gif-wrapper"},[a("v-img",{attrs:{src:n("5b22")}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.openModal=!1}}},[t._v("I understand")])],1)],1)],1)},H=[],$={name:"HelperModal",data:function(){return{openModal:!1}}},U=$,W=(n("63b3"),n("b0af")),G=n("99d9"),q=n("169a"),D=n("ce7e"),K=n("adda"),N=n("2fa4"),J=Object(p["a"])(U,B,H,!1,null,"5348a556",null),X=J.exports;g()(J,{VBtn:R["a"],VCard:W["a"],VCardActions:G["a"],VCardText:G["b"],VCardTitle:G["c"],VDialog:q["a"],VDivider:D["a"],VImg:K["a"],VSpacer:N["a"]});var Y={name:"HomePage",components:{LinkForm:z,HelperModal:X,VueTyper:A["VueTyper"]},data:function(){return{show:!1,playlistLink:""}},computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])("home",["artists","userIsLoggedIn","error"])),{},{playlistId:function(){return this.playlistLink.split("?")[0].split("/")[4]}}),mounted:function(){this.show=!0},methods:Object(i["a"])(Object(i["a"])({},Object(s["b"])("home",["setTokens","retrievePlaylistArtists"])),{},{handleLinkChange:function(t){this.playlistLink=t},generateArt:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$router.push({path:"result",query:{playlistId:t.playlistId}});case 1:case"end":return e.stop()}}),e)})))()}})},Z=Y,Q=(n("e24b"),n("a523")),tt=Object(p["a"])(Z,_,O,!1,null,null,null),et=tt.exports;g()(tt,{VBtn:R["a"],VContainer:Q["a"]});var nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"body-wrapper",style:t.bodyBackgroundColor,attrs:{fluid:""}},[n("v-row",[n("v-col",[n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"mb-3",attrs:{elevataion:"2",fab:"",dark:"",small:""},on:{click:t.goHome}},a),[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-arrow-left")])],1)]}}])},[n("span",[t._v("Try another playlist")])]),n("div",{staticClass:"box"},[n("canvas",{ref:"canvas",attrs:{id:"my_canvas",width:"300",height:"300"}})]),n("div",{staticClass:"button"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"mr-16",attrs:{elevataion:"2",fab:"",color:"#1db954",dark:"",loading:t.changeCoverLoading},on:{click:t.convertTobase64}},a),[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-cloud-upload")])],1)]}}])},[n("span",[t._v("Upload to Spotify")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{elevataion:"2",fab:"",color:"#1db954",dark:""},on:{click:t.downloadCoverImage}},a),[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-download ")])],1)]}}])},[n("span",[t._v("Download")])])],1)],1),n("v-col",[n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({staticClass:"mr-10 mb-3",attrs:{elevataion:"2",dark:"",disabled:0===t.undo.length},on:{click:t.undoArtSetting}},a),[t._v(" Undo ")])]}}])},[n("span",{staticClass:"mr-3"},[t._v(" or ")]),(t.getOS(),n("span",["Mac OS"===t.getOS()?n("kbd",[t._v("cmd")]):"Windows"===t.getOS()?n("kbd",[t._v("ctrl")]):t._e(),n("span",[t._v(" + ")]),t._v(" "),n("kbd",[t._v("z")]),n("span",{staticClass:"ml-3"},[t._v("to undo")])]))]),n("v-expansion-panels",{model:{value:t.artSetting.activePanel,callback:function(e){t.$set(t.artSetting,"activePanel",e)},expression:"artSetting.activePanel"}},[n("v-expansion-panel",{staticClass:"expansionPanel"},[n("v-expansion-panel-header",[n("h3",[t._v("Color")])]),n("v-expansion-panel-content",{staticClass:"expansionPanel"},[n("v-swatches",{attrs:{swatches:"text-advanced",inline:"",value:t.artSetting.backgroundColor},on:{input:t.changeBackgroundColor}})],1)],1),n("v-expansion-panel",{staticClass:"expansionPanel"},[n("v-expansion-panel-header",[n("h3",[t._v("Shape")])]),n("v-expansion-panel-content",[n("v-btn-toggle",{attrs:{value:t.artSetting.shape,dark:"",borderless:""},on:{change:t.changeShape}},t._l(t.shapes,(function(e){return n("v-btn",{key:e.value,attrs:{dark:""}},[n("v-icon",[t._v(" "+t._s(e.icon)+" ")])],1)})),1)],1)],1),n("v-expansion-panel",{staticClass:"expansionPanel"},[n("v-expansion-panel-header",[n("h3",[t._v("Font Color")])]),n("v-expansion-panel-content",[n("v-btn-toggle",{attrs:{value:t.artSetting.textColor,dark:"",borderless:""},on:{change:t.changeTextColor}},t._l(t.gradients,(function(e,a){return n("v-btn",{key:e.label,style:t.getButtonGradientColor(e.light,e.dark)},[a===t.artSetting.textColor?n("v-icon",[t._v(" mdi-check-circle-outline ")]):t._e()],1)})),1)],1)],1),n("v-expansion-panel",{staticClass:"expansionPanel"},[n("v-expansion-panel-header",[n("h3",[t._v("Font Size")])]),n("v-expansion-panel-content",[n("v-slider",{attrs:{min:t.minTextSize,max:t.maxTextSize,value:t.artSetting.textSize,"tick-labels":t.tickLabels,ticks:"always",dark:""},on:{change:t.changeTextSize}})],1)],1)],1)],1)],1),n("v-snackbar",{attrs:{value:t.showSuccessSnack,color:"success",bottom:"",left:""}},[t._v(" Cover updated. Click "),n("a",{attrs:{href:t.playlistLink,target:"_blank"}},[t._v("here")]),t._v(" to view. ")])],1)},at=[],rt=(n("99af"),n("c975"),n("fb6a"),n("5319"),n("2909")),ot=n("b9e8"),it=n.n(ot),st=n("7f75"),ct=n.n(st),lt=n("175f"),ut=n.n(lt),dt={name:"ResultPage",components:{VSwatches:ct.a},data:function(){return{artSetting:{backgroundColor:"#FFF",textColor:0,shape:0,textSize:5,activePanel:null},minTextSize:1,maxTextSize:10,undo:[],playlistId:"",showSuccessSnack:!1,buttonLoading:!1,tickLabels:[1,2,3,4,5,6,7,8,9,10],colorGradient:null,gradients:[{label:"Grade Grey",light:"#BDC3C7",dark:"#2c3e50"},{label:"Yoda",light:"#FF0099",dark:"#493240"},{label:"Cool Sky",light:"#6DD5FA",dark:"#2980B9"},{label:"Pure Lust",light:"#dd1818",dark:"#333333"},{label:"Ohhappiness",light:"#96c93d",dark:"#00b09b"},{label:"WhatLiesBeyond",light:"#f0f2f0",dark:"#000c40"},{label:"Sunkist",light:"#F2C94C",dark:"#F2994A"}],shapes:[{label:"Circle",value:"circle",icon:"mdi-checkbox-blank-circle"},{label:"Square",value:"square",icon:"mdi-square"},{label:"Diamond",value:"diamond",icon:"mdi-cards-diamond"},{label:"Heart",value:"cardioid",icon:"mdi-cards-heart"},{label:"Star",value:"star",icon:"mdi-star"},{label:"Pentagon",value:"pentagon",icon:"mdi-pentagon"}]}},computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])("home",["artists","maxArtistFrequency","error","retrieveArtistsLoading","changeCoverLoading"])),{},{bodyBackgroundColor:function(){return{background:"linear-gradient(120deg, ".concat(this.artSetting.backgroundColor,", #191414)")}},playlistLink:function(){return"https://open.spotify.com/playlist/".concat(this.playlistId)}}),mounted:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.playlistId=t.$route.query.playlistId,e.next=3,t.retrievePlaylistArtists(t.playlistId);case 3:null===t.error&&(t.generateWordCloud(t.artists),t.addUndoListener());case 4:case"end":return e.stop()}}),e)})))()},methods:Object(i["a"])(Object(i["a"])({},Object(s["b"])("home",["setTokens","retrievePlaylistArtists","changeSpotifyCover"])),{},{getButtonGradientColor:function(t,e){return{background:"linear-gradient(90deg, ".concat(t,", ").concat(e,")")}},addUndoListener:function(){var t=this;document.addEventListener("keydown",(function(e){"Mac OS"===t.getOS()?e.metaKey&&"z"===e.key&&t.undoArtSetting():"Windows"!==t.getOS()&&"Linux"!==t.getOS()||e.ctrlKey&&"z"===e.key&&t.undoArtSetting()}))},getOS:function(){var t=window.navigator.userAgent,e=window.navigator.platform,n=["Macintosh","MacIntel","MacPPC","Mac68K"],a=["Win32","Win64","Windows","WinCE"],r=["iPhone","iPad","iPod"],o=null;return-1!==n.indexOf(e)?o="Mac OS":-1!==r.indexOf(e)?o="iOS":-1!==a.indexOf(e)?o="Windows":/Android/.test(t)?o="Android":!o&&/Linux/.test(e)&&(o="Linux"),o},changeBackgroundColor:function(t){var e=this.artSetting.backgroundColor;e!==t&&(this.addUndoState(),this.artSetting.backgroundColor=t,this.artSetting.activePanel=0,this.generateWordCloud(this.artists))},changeShape:function(t){var e=this.artSetting.shape;void 0!=t&&e!==t&&(this.addUndoState(),this.artSetting.shape=t,this.artSetting.activePanel=1,this.generateWordCloud(this.artists))},changeTextColor:function(t){var e=this.artSetting.textColor;void 0!==t&&e!==t&&(this.addUndoState(),this.artSetting.textColor=t,this.artSetting.activePanel=2,this.generateWordCloud(this.artists))},changeTextSize:function(t){var e=this.artSetting.textSize;e!==t&&(this.addUndoState(),this.artSetting.textSize=t,this.artSetting.activePanel=3,this.generateWordCloud(this.artists))},addUndoState:function(){var t=Object.assign({},this.artSetting);this.undo=[].concat(Object(rt["a"])(this.undo),[t])},undoArtSetting:function(){0!=this.undo.length&&(this.artSetting=this.undo[this.undo.length-1],this.undo=this.undo.slice(0,-1),this.generateWordCloud(this.artists))},generateColorGradient:function(){var t=new it.a;t.setMidpoint(this.maxArtistFrequency);var e=this.gradients[this.artSetting.textColor].light,n=this.gradients[this.artSetting.textColor].dark;t.setGradient(e,n),this.colorGradient=t},generateWordCloud:function(t){var e=this;this.generateColorGradient();var n={gridSize:6,fontFamily:"Gotham Bold",shuffle:!1,rotateRatio:0,rotationSteps:2,list:t,color:function(t,n){return e.colorGradient.getColor(n)},weightFactor:this.artSetting.textSize,backgroundColor:this.artSetting.backgroundColor,shape:this.shapes[this.artSetting.shape].value};ut()(this.$refs["canvas"],n)},goHome:function(){this.$router.push({path:"/"})},convertTobase64:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showSuccessSnack=!1,n=document.getElementById("my_canvas"),a=n.toDataURL(),r=a.replace(/^data:image\/[a-z]+;base64,/,""),e.next=6,t.changeSpotifyCover({playlistId:t.playlistId,image:r});case 6:o=e.sent,o&&(t.showSuccessSnack=!0);case 8:case"end":return e.stop()}}),e)})))()},downloadCoverImage:function(){var t=document.getElementById("my_canvas"),e=t.toDataURL("image/png",1).replace("image/png","image/octet-stream"),n=document.createElement("a");n.download="my-coverart.png",n.href=e,n.click(),n.remove()}})},pt=dt,vt=(n("5465"),n("a609")),gt=n("62ad"),ht=n("cd55"),ft=n("49e2"),mt=n("c865"),bt=n("0393"),kt=n("132d"),yt=n("0fd9"),St=n("ba0d"),Ct=n("3a2f"),xt=Object(p["a"])(pt,nt,at,!1,null,"c9aaf674",null),wt=xt.exports;g()(xt,{VBtn:R["a"],VBtnToggle:vt["a"],VCol:gt["a"],VContainer:Q["a"],VExpansionPanel:ht["a"],VExpansionPanelContent:ft["a"],VExpansionPanelHeader:mt["a"],VExpansionPanels:bt["a"],VIcon:kt["a"],VRow:yt["a"],VSlider:St["a"],VSnackbar:C["a"],VTooltip:Ct["a"]});var Lt="aToken",_t="rToken",Ot={saveAccessToken:function(t){localStorage.setItem(Lt,t)},saveRefreshToken:function(t){localStorage.setItem(_t,t)},getAccessToken:function(){return localStorage.getItem(Lt)},getRefreshToken:function(){return localStorage.getItem(_t)},removeAccessToken:function(){localStorage.removeItem(Lt)},removeRefreshToken:function(){localStorage.removeItem(_t)}},It=Ot,At=(n("4160"),n("b0c0"),n("4fad"),n("159b"),{logout:function(){It.removeAccessToken(),Wt.push({path:"/"})}}),Pt=At,Tt=(n("caad"),n("2532"),n("bc3a")),jt=n.n(Tt),Vt={_401Interceptor:null,setTokenHeader:function(t){return"Bearer ".concat(t)},put:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return jt.a.put(t,e,n)},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return jt.a.get(t,e)},mount401Interceptor:function(){this._401Interceptor=jt.a.interceptors.response.use((function(t){return t}),function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.response||401!==e.response.status){t.next=5;break}if(n=e.response.data.error,!n.message.includes("access token")){t.next=5;break}throw $t.dispatch("home/logOut"),e;case 5:throw e;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},Rt=Vt,Et={fetchPlaylistTracks:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=It.getAccessToken(),t.prev=1,t.next=4,Rt.get("https://api.spotify.com/v1/playlists/".concat(e,"/tracks"),{headers:{Authorization:Rt.setTokenHeader(n)}});case 4:return a=t.sent,t.abrupt("return",a.data.items);case 8:throw t.prev=8,t.t0=t["catch"](1),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),changeSpotifyCover:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=It.getAccessToken(),t.prev=1,t.next=4,Rt.put("https://api.spotify.com/v1/playlists/".concat(e,"/images"),n,{headers:{Authorization:Rt.setTokenHeader(a),"Content-Type":"image/jpeg"}});case 4:return r=t.sent,t.abrupt("return",r.data.items);case 8:throw t.prev=8,t.t0=t["catch"](1),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}()},Mt=Et,Ft={logOut:function(t){var e=t.commit;e("removeUserIsLoggedIn"),Pt.logout()},setUserIsLoggedIn:function(t){var e=t.commit;e("setUserIsLoggedIn")},retrievePlaylistArtists:function(t,e){return Object(I["a"])(regeneratorRuntime.mark((function n(){var a,r,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,a("setError",null),a("setRetrieveArtistsLoading",!0),n.prev=3,n.next=6,Mt.fetchPlaylistTracks(e);case 6:return r=n.sent,o={},i=0,r.forEach((function(t){var e=t.track.artists;e.forEach((function(t){t.name in o?o[t.name]+=1:o[t.name]=1,i=Math.max(i,o[t.name])}))})),s=Object.entries(o),a("setArtists",s),a("setMaxArtistFrequency",i),n.abrupt("return",!0);case 16:return n.prev=16,n.t0=n["catch"](3),a("setError","Cannot get playlist. Please try again."),n.abrupt("return",!1);case 20:return n.prev=20,a("removeRetrieveArtistsLoading",!1),n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[3,16,20,23]])})))()},changeSpotifyCover:function(t,e){return Object(I["a"])(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=e.playlistId,o=e.image,a("setError",null),a("setChangeCoverLoading"),n.prev=4,n.next=7,Mt.changeSpotifyCover(r,"".concat(o));case 7:return n.abrupt("return",!0);case 10:return n.prev=10,n.t0=n["catch"](4),a("setError","Cannot change playlist cover. Please try again."),n.abrupt("return",!1);case 14:return n.prev=14,a("removeChangeCoverLoading"),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[4,10,14,17]])})))()}},zt={artists:[],error:null,userIsLoggedIn:!1,retrieveArtistsLoading:!1,changeCoverLoading:!1,maxArtistFrequency:0},Bt={setArtists:function(t,e){t.artists=e},setError:function(t,e){t.error=e},setUserIsLoggedIn:function(t){t.userIsLoggedIn=!0},removeUserIsLoggedIn:function(t){t.userIsLoggedIn=!1},setRetrieveArtistsLoading:function(t){t.retrieveArtistsLoading=!0},removeRetrieveArtistsLoading:function(t){t.retrieveArtistsLoading=!1},setChangeCoverLoading:function(t){t.changeCoverLoading=!0},removeChangeCoverLoading:function(t){t.changeCoverLoading=!1},setMaxArtistFrequency:function(t,e){t.maxArtistFrequency=e}};a["a"].use(s["a"]);var Ht={namespaced:!0,actions:Ft,state:zt,mutations:Bt},$t=new s["a"].Store({modules:{home:Ht}});a["a"].use(L["a"]);var Ut=new L["a"]({mode:"history",routes:[{path:"/",name:"home",component:et,meta:{title:"covrr"}},{path:"/result",name:"result",component:wt,meta:{title:"covrr"}}]});Ut.beforeEach((function(t,e,n){var a=t.query,r=a.access_token;if(r)return It.saveAccessToken(r),$t.dispatch("home/setUserIsLoggedIn"),n({path:"/"});var o=It.getAccessToken();o&&$t.dispatch("home/setUserIsLoggedIn"),n()})),Ut.afterEach((function(t){document.title=t.meta.title}));var Wt=Ut,Gt={TITLE:"where art meets music",LINK_FORM_PLACEHOLDER:"Paste your Spotify playlist link",LINK_REGEX:/(https:\/\/open\.spotify\.com\/playlist\/|spotify:playlist:)([a-zA-Z0-9]+)(.*)/,LINK_INVALID:"Link invalid"},qt={LOCAL:Gt,install:function(t){t.prototype.$LOCAL=function(t){return qt.LOCAL[t]}}},Dt=qt,Kt=n("f309");a["a"].use(Kt["a"]);var Nt=new Kt["a"]({});n("3c61");a["a"].config.productionTip=!1,a["a"].use(Dt),Rt.mount401Interceptor(),new a["a"]({router:Wt,store:$t,vuetify:Nt,render:function(t){return t(w)}}).$mount("#app")},"5b22":function(t,e,n){t.exports=n.p+"img/how-to-get-link.38663acd.gif"},"63b3":function(t,e,n){"use strict";n("dbd8")},"85ec":function(t,e,n){},9728:function(t,e,n){},"9a44":function(t,e,n){"use strict";n("bf8d")},bf8d:function(t,e,n){},dbd8:function(t,e,n){},e24b:function(t,e,n){"use strict";n("1fb1")}});
//# sourceMappingURL=app.1a12bcad.js.map